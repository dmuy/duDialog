/* !Don't remove this!
 * duDialog v1.0 plugin
 * https://github.com/dmuy/duDialog
 *
 * Author: Dionlee Uy
 * Email: dionleeuy@gmail.com
 */
!function(e,t){"function"==typeof define&&define.amd?define("duDialog",[],t(e)):"object"==typeof exports?module.exports=t(e):e.duDialog=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function t(){var e={},t=!1,i=0,l=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],i++);for(var o=function(i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(t&&"[object Object]"===Object.prototype.toString.call(i[l])?e[l]=extend(!0,e[l],i[l]):e[l]=i[l])};l>i;i++){var n=arguments[i];o(n)}return e}String.prototype.removeSpace||(String.prototype.removeSpace=function(){return this.replace(/\s+/g,"")});var i={};Object.defineProperties(i,{DEFAULT:{value:1},OK_CANCEL:{value:2},NO_ACTION:{value:3}}),Object.defineProperty(e,"duDlgTypes",{value:i});var l=!!document.querySelector&&!!e.addEventListener,o={init:!1,okText:"Ok",cancelText:"Cancel",selection:!1,selectedValue:null,valueField:"value",textField:"item",callbacks:null},n=function(){var e=this,i=arguments,l=typeof i[0],n=typeof i[1],c=typeof i[2];if("undefined"==typeof e)throw new Error("duDialog should be initialized.");if(e.type="object"===c?duDlgTypes.DEFAULT:i[2]||duDlgTypes.DEFAULT,e.config=t(o,"object"===c?i[2]:i[3]),"undefined"===l||"string"!==l&&null!==i[0])throw new Error("Dialog title is missing or incorrect format.");if(("undefined"===n||"string"!==n)&&!e.config.selection||!Array.isArray(i[1])&&e.config.selection)throw new Error("Dialog message is missing or incorrect format.");e.title=i[0],e.message=i[1],e.config.init||a.apply(this)},a=function(){if(l){var e,t,i,o,n=this,a=n.config.callbacks,c=function(e,t,i,l){var o=document.createElement(e);return o.className=t,"undefined"!=typeof i&&(o[l?"innerHTML":"innerText"]=i),o},d=function(e){if("click"===e.type&&(e.target.matches(".du-dialog")&&n.type===duDlgTypes.NO_ACTION&&n.hide(),e.target.matches(".dlg-select-item")&&e.target.querySelector(".dlg-select-lbl").click(),e.target.matches(".dlg-action")&&(e.target.matches(".ok-action")&&(a&&a.okClick?a.okClick.apply(n,e):n.hide()),e.target.matches(".cancel-action")&&(a&&a.cancelClick?a.cancelClick.apply(n,e):n.hide()))),"change"===e.type&&e.target.matches(".dlg-select-radio")){var t=e.target;t.checked&&a&&a.itemSelect&&(n.config.selectedValue=t.value,a.itemSelect.apply(t,[e,t.item]),n.type===duDlgTypes.NO_ACTION&&n.hide())}"scroll"===e.type&&e.target.matches(".dlg-content")&&e.target.classList[e.target.scrollTop>5?"add":"remove"]("content--scrolled")};if(n.docFrag=document.createDocumentFragment(),n.dialog=c("div","du-dialog"),n.docFrag.appendChild(n.dialog),e=c("div","dlg-wrapper"),n.dialog.appendChild(e),n.title?(t=c("div","dlg-header",n.title),e.appendChild(t)):n.dialog.classList.add("dlg--no-title"),i=c("div","dlg-content"),n.config.selection)for(var r in n.message){var s=n.message[r],g=typeof s,p="string"===g?s:s[n.config.valueField],u="string"===g?s:s[n.config.textField],f=c("div","dlg-select-item"),h=c("input","dlg-select-radio"),y=c("label","dlg-select-lbl",u),m="dlg-radio"+p.toString().removeSpace();h.type="radio",h.name="dlg-selection",h.value=p,h.id=m,h.item=s,h.checked=n.config.selectedValue==p,y.htmlFor=m,f.appendChild(h),f.appendChild(y),i.appendChild(f)}else i.innerHTML=n.message;switch(e.appendChild(i),n.type!==duDlgTypes.NO_ACTION&&(o=c("div","dlg-actions"),e.appendChild(o)),n.type){case duDlgTypes.OK_CANCEL:o.appendChild(c("button","dlg-action cancel-action",n.config.cancelText)),o.appendChild(c("button","dlg-action ok-action",n.config.okText));break;case duDlgTypes.DEFAULT:o.appendChild(c("button","dlg-action ok-action",n.config.okText))}i.addEventListener("scroll",d,!1),n.dialog.addEventListener("click",d,!1),n.dialog.addEventListener("change",d,!1),n.config.init||n.show()}};return n.prototype.show=function(){var e=this;e.config.init&&a.apply(this),document.body.appendChild(e.docFrag),setTimeout(function(){e.dialog.classList.add("dlg--open");var t=document.getElementsByClassName("dlg-action");t&&t.length&&t[t.length-1].focus()},15)},n.prototype.hide=function(){var e=this;e.dialog.classList.add("dlg--closing"),setTimeout(function(){document.body.removeChild(e.dialog)},200)},n});